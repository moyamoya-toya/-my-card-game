<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>カードゲームプレビュー</title>
    <style>
        body {
            margin: 0;
            padding: 20px; /* コンテンツ全体に余白 */
            background-color: #e0f2f7; /* 明るい水色系の背景 */
            font-family: sans-serif;
            color: #333; /* 基本的なテキストカラー */
            padding-bottom: 80px; /* リスタートボタンの領域を確保 */
        }

        /* カードコンテナにホバーエフェクトを追加 */
        .card-container:hover .card {
            transform: translateY(-5px);
            transition: transform 0.2s ease-in-out;
        }
        .card {
            transition: transform 0.2s ease-in-out; /* ホバー解除時のアニメーション */
            background-color: #ffffff; /* カードの背景は白 */
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* より立体的な影 */
            position: relative; /* 画像やタイトル、ボタンの配置のために必要 */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* 上から要素を配置 */
            width: 150px; /* カードの幅を固定 */
            height: 220px; /* カードの高さを固定 */
        }

        /* カードコンテンツ（画像または裏面情報）エリア */
        .card-content-area {
            width: 100%;
            height: calc(100% - 30px); /* タイトルバー分の高さを引く */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 10px;
            box-sizing: border-box; /* paddingをwidth/heightに含める */
            position: relative; /* 日付情報を重ねるために必要 */
        }

        /* カード画像スタイル */
        .card-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain; /* アスペクト比を維持して表示 */
        }

        /* 裏面カードの日付情報オーバーレイ */
        /* このスタイルは使われなくなりますが、念のため残しておきます */
        /* .card-back .date-overlay { ... } */


        /* カードタイトルバーのスタイル */
        .card-title-bar {
             position: absolute;
             bottom: 0;
             left: 0;
             width: 100%;
             background-color: rgba(0, 0, 0, 0.7);
             color: white;
             font-size: small;
             text-align: center;
             padding: 5px 0;
             box-sizing: border-box;
        }

        /* 裏面カードの年月日表示バーのスタイル */
        .date-bar {
            position: absolute;
            bottom: 50px; /* タイトルバーの上に配置 - 高さを調整 */
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* タイトルバーより少し薄い半透明の黒 */
            color: white;
            font-size: medium; /* タイトルより少し大きく */
            font-weight: bold;
            text-align: center;
            padding: 5px 0;
            box-sizing: border-box;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7); /* 影を追加して見やすく */
            z-index: 5; /* タイトルバーより上、ボタンより下 */
        }


        /* カード上のボタン（選択、左右、確認）のスタイル */
        .card-button {
             position: absolute;
             padding: 5px;
             font-size: small;
             z-index: 10; /* 他の要素より前面に表示 */
             white-space: nowrap; /* ボタン内のテキストを折り返さない */
             border: none;
             border-radius: 3px;
             cursor: pointer;
             box-shadow: 0 1px 2px rgba(0,0,0,0.2);
             transition: background-color 0.3s ease;
        }

        .select-button {
            top: 5px;
            left: 5px;
            background-color: #2196f3; /* 青系 */
            color: white;
        }
        .select-button:hover {
            background-color: #1976d2; /* 濃い青系 */
        }
        .select-button:active {
            background-color: #0d47a1; /* さらに濃い青系 */
        }

        .left-button {
            top: 5px;
            left: 5px;
            background-color: #ff9800; /* オレンジ系 */
            color: white;
        }
        .left-button:hover {
            background-color: #f57c00; /* 濃いオレンジ系 */
        }
         .left-button:active {
             background-color: #ef6c00; /* さらに濃いオレンジ系 */
         }

        .right-button {
            top: 5px;
            right: 5px;
            background-color: #ff9800; /* オレンジ系 */
            color: white;
        }
         .right-button:hover {
             background-color: #f57c00; /* 濃いオレンジ系 */
         }
          .right-button:active {
              background-color: #ef6c00; /* さらに濃いオレンジ系 */
          }

        .discard-confirm-button {
             top: 5px; /* 上からの位置を調整 */
             left: 5px; /* 左からの位置を調整 */
             background-color: #ffb74d; /* ボタンの色 - オレンジ系 */
             color: white;
        }
         .discard-confirm-button:hover {
              background-color: #ffa726; /* ホバー時の色 */
          }
         .discard-confirm-button:active {
             background-color: #f57c00; /* さらに濃いオレンジ系 */
         }


        /* スクロールバーのスタイルを調整 (任意) */
        #hand-field::-webkit-scrollbar,
        #common-field::-webkit-scrollbar,
        #discard-field::-webkit-scrollbar { /* 捨て札フィールドを追加 */
            height: 8px;
        }

        #hand-field::-webkit-scrollbar-track,
        #common-field::-webkit-scrollbar-track,
        #discard-field::-webkit-scrollbar-track { /* 捨て札フィールドを追加 */
            background: #f1f1f1;
            border-radius: 10px;
        }

        #hand-field::-webkit-scrollbar-thumb,
        #common-field::-webkit-scrollbar-thumb,
        #discard-field::-webkit-scrollbar-thumb { /* 捨て札フィールドを追加 */
            background: #888;
            border-radius: 10px;
        }

        #hand-field::-webkit-scrollbar-thumb:hover,
        #common-field::-webkit-scrollbar-thumb:hover,
        #discard-field::-webkit-scrollbar-thumb:hover { /* 捨て札フィールドを追加 */
            background: #555;
        }

         /* 捨て札フィールドのスタイル */
        #discard-field {
            background-color: #b2dfdb; /* 場札と同じ薄いティール系のマットな色 */
            width: 100%; /* 親要素の幅いっぱいに */
            height: 250px;
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10px;
            overflow-x: auto; /* 横方向のスクロールを有効に */
            margin-bottom: 20px;
            border-radius: 10px;
            border: none; /* ボーダーを削除 */
        }

        /* 手札フィールドのスタイル */
        #hand-field {
            background-color: #bbdefb; /* 薄い青系のマットな色 */
            width: 100%;
            height: 250px;
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10px;
            overflow-x: auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        /* 場札フィールドのスタイル */
        #common-field {
            background-color: #b2dfdb; /* 薄いティール系のマットな色 */
            width: 100%;
            height: 250px;
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10px;
            overflow-x: auto;
            margin-bottom: 20px;
            border-radius: 10px;
        }


        /* ボタンコンテナのスタイル */
        #button-container {
            margin-bottom: 10px; /* 手札枚数設定エリアとの間に余白 */
            display: flex; /* Flexboxを使用 */
            align-items: center; /* 垂直方向中央揃え */
            justify-content: center; /* 水平方向中央揃え */
            width: 100%; /* 親要素の幅いっぱいに */
        }

         #decision-button { /* 決定ボタンのスタイル */
            padding: 10px 20px;
            font-size: large;
            margin: 0 10px; /* ボタン間の余白 */
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: background-color 0.3s ease;
            background-color: #26a69a; /* 決定ボタンの色 - ティール系 */
            color: black; /* 文字色を黒に変更 */
         }

         #decision-button:disabled {
             background-color: #b2dfdb; /* 無効時の色 */
             cursor: not-allowed;
         }

         #decision-butt
